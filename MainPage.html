<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Responsive Payroll Form</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      font-family: 'Inter', sans-serif;
    }
    input[type="text"]:focus, input[type="number"]:focus {
      outline: none;
      border-color: #4f46e5;
      box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.5);
    }
    .message-box {
      transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
      transform: translateY(-20px);
    }
    .message-box.opacity-100 {
        transform: translateY(0);
    }
    input[type=number]::-webkit-inner-spin-button, 
    input[type=number]::-webkit-outer-spin-button { 
        -webkit-appearance: none;
        margin: 0;
    }
    input[type=number] {
        -moz-appearance: textfield;
    }
  </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">

  
  <div class="w-full max-w-lg bg-white p-6 sm:p-10 rounded-xl shadow-2xl border border-gray-200">
    <h2 class="text-3xl font-extrabold text-gray-800 mb-8 text-center">Payroll Entry Form</h2>
    
    <form id="payrollForm" onsubmit="submitForm(); return false;" class="space-y-4">
      
    
      <div>
        <label for="empId" class="block text-sm font-medium text-gray-700 mb-1">Employee ID:</label>
        <input type="text" id="empId" class="w-full p-3 border border-gray-300 rounded-lg placeholder-gray-400 focus:ring-indigo-500 focus:border-indigo-500" placeholder="e.g., P00123" oninput="validateField(this, 'empIdError', true, /^[A-Za-z0-9]+$/)">
        <p id="empIdError" class="text-red-500 text-xs mt-1 h-4"></p>
      </div>

      <div>
        <label for="firstName" class="block text-sm font-medium text-gray-700 mb-1">First Name (Required):</label>
        <input type="text" id="firstName" class="w-full p-3 border border-gray-300 rounded-lg placeholder-gray-400 focus:ring-indigo-500 focus:border-indigo-500" oninput="validateName(this, 'firstNameError', true)">
        <p id="firstNameError" class="text-red-500 text-xs mt-1 h-4"></p>
      </div>

      <div>
        <label for="middleName" class="block text-sm font-medium text-gray-700 mb-1">Middle Name (Optional):</label>
        <input type="text" id="middleName" class="w-full p-3 border border-gray-300 rounded-lg placeholder-gray-400 focus:ring-indigo-500 focus:border-indigo-500" oninput="validateName(this, 'middleNameError', false)">
        <p id="middleNameError" class="text-red-500 text-xs mt-1 h-4"></p>
      </div>

      <div>
        <label for="lastName" class="block text-sm font-medium text-gray-700 mb-1">Last Name (Required):</label>
        <input type="text" id="lastName" class="w-full p-3 border border-gray-300 rounded-lg placeholder-gray-400 focus:ring-indigo-500 focus:border-indigo-500" oninput="validateName(this, 'lastNameError', true)">
        <p id="lastNameError" class="text-red-500 text-xs mt-1 h-4"></p>
      </div>

      <div>
        <label for="position" class="block text-sm font-medium text-gray-700 mb-1">Position:</label>
        <input type="text" id="position" class="w-full p-3 border border-gray-300 rounded-lg placeholder-gray-400 focus:ring-indigo-500 focus:border-indigo-500" placeholder="e.g., Senior Developer" oninput="validateField(this, 'positionError', true, /^[A-Za-z\s]+$/)">
        <p id="positionError" class="text-red-500 text-xs mt-1 h-4"></p>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        
        <div>
          <label for="rate" class="block text-sm font-medium text-gray-700 mb-1">Rate per Day (₱):</label>
          <input type="text" id="rate" class="w-full p-3 border border-gray-300 rounded-lg placeholder-gray-400 focus:ring-indigo-500 focus:border-indigo-500" placeholder="0.00" oninput="validateField(this, 'rateError', true, /^\d+(\.\d{1,2})?$/)">
          <p id="rateError" class="text-red-500 text-xs mt-1 h-4"></p>
        </div>
        
        <div>
          <label for="days" class="block text-sm font-medium text-gray-700 mb-1">Days of Work (Days):</label>
          <input type="text" id="days" class="w-full p-3 border border-gray-300 rounded-lg placeholder-gray-400 focus:ring-indigo-500 focus:border-indigo-500" placeholder="0 days" oninput="validateField(this, 'daysError', true, /^\d+$/)">
          <p id="daysError" class="text-red-500 text-xs mt-1 h-4"></p>
        </div>
      </div>
      
      <button type="submit" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 rounded-xl shadow-md transition duration-150 ease-in-out mt-6 focus:outline-none focus:ring-4 focus:ring-indigo-500 focus:ring-opacity-50">
        Calculate & Submit Payroll
      </button>
    </form>
  </div>
  
  <div id="messageBox" class="message-box fixed top-4 right-4 bg-indigo-600 text-white p-4 rounded-lg shadow-xl opacity-0 pointer-events-none z-50"></div>

  <script>
   
    function showMessage(message, isError = false) {
      const box = document.getElementById('messageBox');
      box.textContent = message;

   
      box.className = 'message-box fixed top-4 right-4 p-4 rounded-lg shadow-xl opacity-100 transition-opacity z-50';
      box.classList.remove('bg-indigo-600', 'bg-red-600');

      if (isError) {
        box.classList.add('bg-red-600', 'text-white');
      } else {
        box.classList.add('bg-indigo-600', 'text-white');
      }

      setTimeout(() => {
        box.classList.remove('opacity-100');
        box.classList.add('opacity-0', 'pointer-events-none');
      }, 4000);
    }

    function validateName(input, errorId, isRequired) {
      const errorElement = document.getElementById(errorId);
      const value = input.value.trim();
      const namePattern = /^[A-Za-z\s'-]*$/;
      let isValid = true;
      let errorMessage = "";

      if (isRequired && value === "") {
        errorMessage = "This field is required.";
        isValid = false;
      } else if (value !== "" && !namePattern.test(value)) {
        errorMessage = "Only letters, spaces, hyphens, and apostrophes are allowed.";
        isValid = false;
      } else if (value.length > 50) {
        errorMessage = "Name is too long.";
        isValid = false;
      }

      errorElement.textContent = errorMessage;
      if (!isValid) {
        input.classList.add('border-red-500');
      } else {
        input.classList.remove('border-red-500');
      }
      
      return isValid;
    }
    
    function validateField(input, errorId, isRequired, pattern) {
      const errorElement = document.getElementById(errorId);
      const value = input.value.trim();
      let isValid = true;
      let errorMessage = "";

      if (isRequired && value === "") {
        errorMessage = "This field is required.";
        isValid = false;
      } else if (value !== "" && pattern && !pattern.test(value)) {
        if (errorId === 'rateError') {
          errorMessage = "Invalid amount. Must be a number (e.g., 1000.50).";
        } else if (errorId === 'daysError') {
          errorMessage = "Invalid days. Must be a whole number.";
        } else if (errorId === 'empIdError') {
          errorMessage = "Only letters and numbers allowed.";
        } else if (errorId === 'positionError') {
          errorMessage = "Position can only contain letters and spaces.";
        } else {
          errorMessage = "Invalid format.";
        }
        isValid = false;
      }

      errorElement.textContent = errorMessage;
      if (!isValid) {
        input.classList.add('border-red-500');
      } else {
        input.classList.remove('border-red-500');
      }

      return isValid;
    }

    function validateForm() {
      let isValid = true;

      if (!validateName(document.getElementById('firstName'), 'firstNameError', true)) isValid = false;
      if (!validateName(document.getElementById('lastName'), 'lastNameError', true)) isValid = false;
      if (document.getElementById('middleName').value.trim() !== "" && !validateName(document.getElementById('middleName'), 'middleNameError', false)) isValid = false;
      if (!validateField(document.getElementById('empId'), 'empIdError', true, /^[A-Za-z0-9]+$/)) isValid = false;
      if (!validateField(document.getElementById('position'), 'positionError', true, /^[A-Za-z\s]+$/)) isValid = false;
      if (!validateField(document.getElementById('rate'), 'rateError', true, /^\d+(\.\d{1,2})?$/)) isValid = false;
      if (!validateField(document.getElementById('days'), 'daysError', true, /^\d+$/)) isValid = false;


      return isValid;
    }
    
    function submitForm() {
      if (!validateForm()) {
        showMessage("Validation failed! Please correct the fields marked in red.", true);
        return;
      }

      const rate = parseFloat(document.getElementById('rate').value.trim());
      const days = parseInt(document.getElementById('days').value.trim());
      const grossPay = rate * days;

      const data = {
        empId: document.getElementById('empId').value.trim(),
        firstName: document.getElementById('firstName').value.trim(),
        lastName: document.getElementById('lastName').value.trim(),
        position: document.getElementById('position').value.trim(),
        rate: rate,
        days: days,
        grossPay: grossPay.toFixed(2)
      };
      
      console.log("--- Submission Successful ---");
      console.log("Submitted Data:", data);
      
      showMessage(`Success! Gross Pay calculated for ${data.firstName} ${data.lastName}: ₱${data.grossPay}`, false);

      document.getElementById('payrollForm').reset();
      document.querySelectorAll('input').forEach(input => {
          input.classList.remove('border-red-500');
          const errorId = input.id + 'Error';
          const errorElement = document.getElementById(errorId);
          if (errorElement) {
              errorElement.textContent = "";
          }
      });
    }
  </script>
</body>
</html>
